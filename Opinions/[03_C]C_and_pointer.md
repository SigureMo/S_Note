# C and pointer
## 1 初识
不得不说，初学者学C语言的指针是很头疼的，时隔一年半重新学起C语言的我本以为这次已经很了解指针了，但是乍一学数据结构才发现，很多地方还是不得要领。
### 1.1 指针也是变量
指针是变量，emmmmmmm，貌似是废话，但是我当初刚开始学c的时候感觉指针是一个神圣的东西，它可以指向一个变量，好神奇的样子，然后……学不懂不学了(╯‵□′)╯︵┻━┻

不过这次再回顾这里的知识我发现不过如此嘛，指针里面不过是保存了一个一已知类型的变量的**地址**，至于这个地址多大嘛……看操作系统了，64位占8bytes，32位占4bytes，然后呐然后呐？知道地址能干嘛？知道地址当然就可以找到这个地址下的变量啦，哦对，应该只能找到01组成的一串字节码，而且还不知道要读多少字节才结束，这时候之前申明的类型就起作用啦，比如char*就读1byte，int*就读4bytes好啦。

### 1.2 知道了指针就可以为所欲为了哈哈
Q: 咦？为啥要用指针，以前直接拿到变量不是挺好的嘛？也可以直接对变量操作呀。

A: 如果都在main函数里确实也看不出来啥，但是如果把数据传到函数内进行修改的话，就只能通过返回值修改了，而且c只能return1个啊，头疼。但是如果把指针传到函数里……嘿嘿，**无论这个变量变成什么样子都能找到他，而且读写随你**。  
另外，向函数里面传一个结构体啦、数组啦都要将复制很大一部分数据，而64位指针也不过8bytes，也是很经济的选择。

### 1.3 动态分配内存是什么鬼
Q: 干嘛要动态分配内存啦，我不是已经声明了一个指针了变量和他的类型了嘛？干嘛还要再分配呀？

A: 但是**不知道那个指针是指向哪里**的呀，变量里的值可是随机的，指针也是变量啊，一旦里面存了哪些不该指向的地址，然后再*p=blabla……就崩溃了……

Q: 那就给他改个可以指向的地址好了，干嘛malloc？

A: 谁知道哪些地址可以指呀？已经知道的只有之前新建的变量，所以可以p = &a这样子，但是那也只能是管理变量a的值，**如果p想要有一个属于自己的一片区域的话，要自己去申请那么一片区域，之后系统就会把地址给他，当然这个地址一定是可以指的**。

## 2 结构体和对象
当初只学过C的我去学Python是各种不适应面向对象，然后现在学完各种面向对象语言再回来学C又是各种的不适应……当学到结构体的时候我貌似找到了对象的影子，虽然不一样，但一方面我从底层了解到了对象，另一方面我从其他语言的对象了解了结构体的意义。
### 2.1 结构体可以保存各种不同的数据
面向对象最基础的例子就是创建一个拥有name、age的Person类啦，相应地，结构体自然也可以完成这种简单的结构，如果想增加一个函数作为专有方法也是可以的，但是为啥说结构体不是类呢？可能是因为类可以对数据进行封装，主学Python的我对这个的认识确实不深。但是无论如何，用c实现的面向对象语言底层一定是是使用结构体对数据集中保存的。
### 2.2 对象的赋值与创建
在学习Java的面向对象可以了解到对象和基本数据并不是一种东西，而且对象的赋值并不是和基础数据一样赋‘值’，而是和原来对象的变量一起管理其内数据。如果从其底层c来看的话，很明显**对象的赋值只是传递指针**，而想要真正的新建一个对象的话，就要new，用c来实现的话应该是malloc一个新的内存区域，让这个变量有一个自己管理的区域（对象）。
# 修改记录
1. 180909 Add #1 #2
# 参考
1. [中国大学MOOC C语言程序设计进阶](https://www.icourse163.org/course/ZJU-200001#/info)

[goto S_Note;](../README.md)

[return 0;](#c%20and%20pointer)